<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>주문 및 배송 정보 입력</title>
</head>
<body>
<h1>주문 및 배송 정보 입력</h1>

<form method="post" action="/payment/paymentpage">
    <!-- 주문자 정보 입력란 -->
    <h2>주문자 정보</h2>
    <label for="customerName">주문자 이름:</label>
    <input type="text" id="customerName" name="customerName" required><br>

    <label for="customerEmail">이메일:</label>
    <input type="email" id="customerEmail" name="customerEmail" required><br>

    <label for="customerPhone">일반 전화:</label>
    <input type="tel" id="customerPhone" name="customerPhone" required><br>

    <label for="customerMobile">휴대 전화:</label>
    <input type="tel" id="customerMobile" name="customerMobile" required><br>

    <br>

    <!-- 배송 정보 입력란 -->
    <h2>배송 정보</h2>
    <input type="checkbox" id="sameAsBilling" name="sameAsBilling" value="1">
    <label for="sameAsBilling">배송지 정보와 동일</label><br>

    <!-- 새로운 배송지 정보 입력란 -->
    <label for="recipientName">받는 사람:</label>
    <input type="text" id="recipientName" name="recipientName"><br>

    <!-- 주소 입력란 -->
    <label for="shippingAddress">주소:</label>
    <input type="text" id="sample3_postcode" placeholder="우편번호">
    <input type="button" onclick="sample3_execDaumPostcode()" value="우편번호 찾기"><br>
    <input type="text" id="sample3_address" name="shippingAddress" placeholder="주소"><br>
    <input type="text" id="sample3_detailAddress" name="sample3_detailAddress" placeholder="상세주소">
    <input type="text" id="sample3_extraAddress" name="sample3_extraAddress" placeholder="참고항목"><br>
    <span id="guide" style="color:#999;display:none"></span>

    <label for="shippingPhone">일반 전화:</label>
    <input type="tel" id="shippingPhone" name="shippingPhone"><br>

    <label for="shippingMobile">휴대 전화:</label>
    <input type="tel" id="shippingMobile" name="shippingMobile"><br>

    <label for="specialInstructions">특이 사항:</label>
    <textarea id="specialInstructions" name="specialInstructions"></textarea><br>

    <input type="submit" value="결제 하기">
</form>

<div id="wrap" style="display:none; border:1px solid; width:500px; height:300px; margin:5px 0; position:relative">
    <img src="//t1.daumcdn.net/postcode/resource/images/close.png" id="btnFoldWrap" style="cursor:pointer;position:absolute;right:0px;top:-1px;z-index:1" onclick="foldDaumPostcode()" alt="접기 버튼">
</div>

<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
<script>
    var element_wrap = document.getElementById('wrap');

    function foldDaumPostcode() {
        element_wrap.style.display = 'none';
    }

    function sample3_execDaumPostcode() {
        var currentScroll = Math.max(document.body.scrollTop, document.documentElement.scrollTop);
        new daum.Postcode({
            oncomplete: function(data) {
                var addr = '';
                var extraAddr = '';
                if (data.userSelectedType === 'R') {
                    addr = data.roadAddress;
                } else {
                    addr = data.jibunAddress;
                }

                if (data.userSelectedType === 'R') {
                    if (data.bname !== '' && /[동|로|가]$/g.test(data.bname)) {
                        extraAddr += data.bname;
                    }
                    if (data.buildingName !== '' && data.apartment === 'Y') {
                        extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
                    }
                    if (extraAddr !== '') {
                        extraAddr = ' (' + extraAddr + ')';
                    }
                    document.getElementById('sample3_extraAddress').value = extraAddr;
                } else {
                    document.getElementById('sample3_extraAddress').value = '';
                }
                document.getElementById('sample3_postcode').value = data.zonecode;
                document.getElementById('sample3_address').value = addr;
                document.getElementById('sample3_detailAddress').focus();
                element_wrap.style.display = 'none';
                document.body.scrollTop = currentScroll;
            },
            onresize: function(size) {
                element_wrap.style.height = size.height + 'px';
            },
            width: '100%',
            height: '100%'
        }).embed(element_wrap);
        element_wrap.style.display = 'block';
    }
</script>
</body>
</html>
